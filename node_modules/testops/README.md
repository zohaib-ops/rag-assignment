# TestOps NodeJS SDK

A TypeScript/NodeJS wrapper SDK, specifically designed for TestOps API integration and observability.

## Installation

```bash
npm install testops
```

## Quick Start

```typescript
import { TestOpsClient } from 'testops';

// Initialize the client (extends Langfuse client)
const testOps = new TestOpsClient({
  publicKey: 'your-testops-public-key',
  secretKey: 'your-testops-secret-key',
});

// Use native Langfuse API through TestOps client
const trace = testOps.trace({
  name: 'user_login_flow',
  metadata: {
    testSuite: 'authentication_tests',
    testFile: 'auth.test.js',
  },
  tags: ['auth', 'critical'],
});

// Create spans using native Langfuse API
const loginSpan = trace.span({
  name: 'navigate_to_login',
  input: { url: '/login' }
});

loginSpan.end({
  output: { pageLoaded: true, loadTime: 250 }
});

// Create events using native Langfuse API
trace.event({
  name: 'assertion_check',
  metadata: {
    assertion: 'Login button should be visible',
    passed: true,
    expected: 'button visible',
    actual: 'button visible'
  }
});

// Use TestOps convenience method for test results
await testOps.logTestResult('user_login_flow', {
  status: 'passed',
  duration: 2500,
});

// Cleanup
await testOps.flush();
await testOps.shutdown();
```
```

## Configuration

The TestOps client can be configured using environment variables or constructor options:

### Environment Variables

```bash
TESTOPS_PUBLIC_KEY=your_public_key
TESTOPS_SECRET_KEY=your_secret_key
TESTOPS_ENVIRONMENT=production
```

### Constructor Options

```typescript
const client = new TestOpsClient({
  publicKey: 'your_public_key',
  secretKey: 'your_secret_key',
  environment: 'production',
  flushAt: 20,
  flushInterval: 10000,
});
```
